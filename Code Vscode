
#%%
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from functools import partial
from pyproj import CRS
from pyproj import Proj, transform
# widget manipulation
from ipywidgets import widgets, interact, interactive, fixed, interact_manual

from download import download  # download data / avoid re-downloading
from IPython import get_ipython

pd.options.display.max_rows = 8
#%%

#Importation et suppression des doublons 
#%%
Jdd_projet = pd.read_csv("gares-peage-2019.csv", sep = ';', header = 0)
#del Jdd_projet['st_length_']
Jdd_projet
#%%
#énumération des colonnes
#%%

print(Jdd_projet.columns)

#%%

#displaying the first five rows of dataset 
#%%
print(Jdd_projet.head())
#%%
#descrition of data
#%%
print(Jdd_projet.describe(include = 'all'))
print(Jdd_projet.info())
#%%
#displayinf last five rows of dataset
#%%
print(Jdd_projet.tail())
#%%
# read the data null
#%%
print(Jdd_projet.isnull())
#%%
#Utilisation de la fonction isna()
#%%
print(Jdd_projet.isna())
print(Jdd_projet.isna().any())

#Cette fonction donne la somme des valeurs nulls dans le jeu de données
#%%
Jdd_projet.isna().sum()
#%%
# Faire une liste de types de valeurs manquantes
#%%
missing_values = ["n/a", "na", "--"]
Jdd_projet = pd.read_csv("gares-peage-2019.csv", sep = ';', header = 0, na_values = missing_values)
Jdd_projet
#%%

#Suppression des valeurs manquantes

#%%
Jdd_projet = Jdd_projet.dropna()
Jdd_projet
print(Jdd_projet.isnull())
#%%
# Selection des colonnes qu'on a besoin


# Remplacer les valeurs manquantes de la colonne 'objectid_1 en utilisant la médiane
#%%
median = Jdd_projet['objectid_1'].median()
Jdd_projet['objectid_1'].fillna(median, inplace=True)
Jdd_projet['objectid_1']
Jdd_projet['objectid_1'].isnull()

#%%
#Conversion des valeurs 
#%%
#X1=Jdd_projet['x']
#X2=Jdd_projet['y']

inProj = Proj("epsg:2154")
outProj = Proj("epsg:4326")
crs_deprecated = CRS("epsg:2154")
crs = CRS("epsg:2154")
crs == crs_deprecated



T= 671659,72
P= 6900724,84
x2,y2 = transform(inProj,outProj,T,P)
print(x2,y2)
x2
y2
# Remplacer les valeurs manquantes de la colonne 'objectid en utilisant la médiane
#%%

#%%

# Remplacer les valeurs manquantes de la colonne 'objectid_1 en utilisant la médiane
#%%

#%%

# Remplacer les valeurs manquantes de la colonne 'num_route' en utilisant la médiane
#%%
cat_Jdd = Jdd_projet.apply(lambda x:x.fillna(x.value_counts().index[12])
#print(Jdd_projet['num_route'].describe())
#print(Jdd_projet['num_route'].isnull())
   
#%%
